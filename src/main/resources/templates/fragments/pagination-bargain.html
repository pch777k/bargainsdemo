<div th:fragment="pagination-bargain(href)">
	
<!-- Pagination --> 									
<div class="container" >	
	<div class="row justify-content-center">	
 		<div class="col-auto">
 			<nav th:if="${bargains.totalPages > 1}" aria-label="Page navigation">
		    	<ul class="pagination pagination-sm ">
		  	 		<li class="page-item" th:classappend="${bargains.number == 0} ? 'disabled'">
		    			<a th:if="${#strings.equals(closed,'on')}" class="page-link" 
				    	   th:href="@{${href} (page=${1}, ended=${closed})}">
				    	   &laquo;
				    	</a>
		    			<a th:unless="${#strings.equals(closed,'on')}" class="page-link" 
				    	   th:href="@{${href} (page=${1})}">
				    	   &laquo;
				    	</a>				    	
		    		</li>	  
				    <li class="page-item" th:classappend="${bargains.number == 0} ? 'disabled'">
				    	<a th:if="${#strings.equals(closed,'on')}" class="page-link" 
				    	   th:href="@{${href} (page=${bargains.number}, ended=${closed})}">
				    	   &lsaquo;
				    	</a>
				    	<a th:unless="${#strings.equals(closed,'on')}" class="page-link" 
				    	   th:href="@{${href} (page=${bargains.number})}">
				    	   &lsaquo;
				    	</a>
				    </li>	
				    
				    <th:block th:if="${totalPages <= 10}">       
					    <li class="page-item" th:classappend="${i == bargains.number+1} ? 'active'" 
					    					  th:each="i: ${#numbers.sequence(1, bargains.totalPages)}">
					    	<a th:if="${#strings.equals(closed,'on')}" class="page-link" 
					    	   th:href="@{${href} (page=${i}, ended=${closed})}" 
					    	   th:text="${i}">
					    	</a>
					    	<a th:unless="${#strings.equals(closed,'on')}" class="page-link" 
					    	   th:href="@{${href} (page=${i})}" 
					    	   th:text="${i}">
					    	</a>
					    </li>	
				    </th:block>
				    
				    <th:block th:if="${totalPages > 10}">
				    	<th:block th:if="${currentPage <= 5 or currentPage >= totalPages - 4}">
				    		<li class="page-item" th:classappend="${i == bargains.number+1} ? 'active'" th:each="i: ${#numbers.sequence(1, 5)}">
						    	<a th:if="${#strings.equals(closed,'on')}" class="page-link" 
						    	   th:href="@{${href} (page=${i}, ended=${closed})}" 
						    	   th:text="${i}">
						    	</a>
						    	<a th:unless="${#strings.equals(closed,'on')}" class="page-link" 
						    	   th:href="@{${href} (page=${i})}" 
						    	   th:text="${i}">
						    	</a>
				    		</li>	
					    		<a th:if="${currentPage<=5 && #strings.equals(closed,'on')}" class="page-link" 
						    	   th:href="@{${href} (page=${6}, ended=${closed})}" 
						    	   th:text="...">
						    	</a>
						    	<a th:if="${currentPage<=5} && !(#strings.equals(closed,'on'))}" class="page-link" 
						    	   th:href="@{${href} (page=${6})}" 
						    	   th:text="...">
						    	</a>
						    	<a th:if="${currentPage>=9 && #strings.equals(closed,'on')}" class="page-link" 
						    	   th:href="@{${href} (page=${8}, ended=${closed})}" 
						    	   th:text="...">
						    	</a>
						    	<a th:if="${currentPage>=9 && !(#strings.equals(closed,'on'))}" class="page-link" 
						    	   th:href="@{${href} (page=${8})}" 
						    	   th:text="...">
						    	</a>
					    	<li class="page-item" th:classappend="${i == bargains.number+1} ? 'active'" th:each="i: ${#numbers.sequence(totalPages - 4, totalPages)}">
						    	<a th:if="${#strings.equals(closed,'on')}" class="page-link" 
						    	   th:href="@{${href} (page=${i}, ended=${closed})}" 
						    	   th:text="${i}">
						    	</a>
						    	<a th:unless="${#strings.equals(closed,'on')}" class="page-link" 
						    	   th:href="@{${href} (page=${i})}" 
						    	   th:text="${i}">
						    	</a>
				    		</li>	
				    	</th:block>	
				    	<th:block th:if="${currentPage > 5 and currentPage < totalPages - 4}">
				    		<a th:if="${#strings.equals(closed,'on')}" class="page-link" 
					    	   th:href="@{${href} (page=${currentPage-5}, ended=${closed})}" 
					    	   th:text="...">
					    	</a>
					    	<a th:unless="${#strings.equals(closed,'on')}" class="page-link" 
					    	   th:href="@{${href} (page=${currentPage-5})}" 
					    	   th:text="...">
					    	</a>				    	
					    	<li class="page-item" th:classappend="${i == bargains.number+1} ? 'active'" th:each="i: ${#numbers.sequence(currentPage - 4, currentPage + 4)}">
						    	<a th:if="${#strings.equals(closed,'on')}" class="page-link" 
						    	   th:href="@{${href} (page=${i}, ended=${closed})}" 
						    	   th:text="${i}">
						    	</a>
						    	<a th:unless="${#strings.equals(closed,'on')}" class="page-link" 
						    	   th:href="@{${href} (page=${i})}" 
						    	   th:text="${i}">
						    	</a>
				    		</li>	
						    	<a th:if="${#strings.equals(closed,'on')}" class="page-link" 
						    	   th:href="@{${href} (page=${currentPage+5}, ended=${closed})}" 
						    	   th:text="...">
						    	</a>
						    	<a th:unless="${#strings.equals(closed,'on')}" class="page-link" 
						    	   th:href="@{${href} (page=${currentPage+5})}" 
						    	   th:text="...">
						    	</a>
				    	
				    	</th:block>
					</th:block>

				    <li class="page-item" th:classappend="${bargains.number + 1 == bargains.totalPages} ? 'disabled'">		    
				   		<a th:if="${#strings.equals(closed,'on')}" class="page-link" 
				   		   th:href="@{${href} (page=${bargains.number+2}, ended=${closed})}">
				   		   &rsaquo;
				   		</a>
				   		<a th:unless="${#strings.equals(closed,'on')}" class="page-link" 
				   		   th:href="@{${href} (page=${bargains.number+2})}">
				   		   &rsaquo;
				   		</a>
				    </li>
				    <li class="page-item" th:classappend="${bargains.number + 1 == bargains.totalPages} ? 'disabled'">
				    	<a th:if="${#strings.equals(closed,'on')}" class="page-link" 
				    	   th:href="@{${href} (page=${bargains.totalPages}, ended=${closed})}">
				    	   &raquo;
				    	</a>
				    	<a th:unless="${#strings.equals(closed,'on')}" class="page-link" 
				    	   th:href="@{${href} (page=${bargains.totalPages})}">
				    	   &raquo;
				    	</a>
				    </li>
		  		</ul>
			</nav>
		</div>
	</div>
</div>
<!-- Pagination -->
	
</div>

